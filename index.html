<!DOCTYPE html>  
<html lang="zh-CN">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Thinkwave</title>  
    <style>  
        * {  
            margin: 0;  
            padding: 0;  
            box-sizing: border-box;  
        }  

        body {  
            font-family: 'Segoe UI', Arial, sans-serif;  
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);  
            min-height: 100vh;  
            display: flex;  
            justify-content: center;  
            align-items: center;  
            padding: 20px;  
        }  

        #chat-container {  
            width: 100%;  
            max-width: 700px;  
            height: 600px;  
            background: #ffffff;  
            border-radius: 20px;  
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);  
            display: flex;  
            flex-direction: column;  
            overflow: hidden;  
            border: 1px solid #e0e4e8;  
        }  

        #chat-messages {  
            flex-grow: 1;  
            padding: 20px;  
            overflow-y: auto;  
            background: #fafafa;  
            scroll-behavior: smooth;  
        }  

        .message {  
            margin-bottom: 15px;  
            padding: 12px 18px;  
            border-radius: 15px;  
            max-width: 75%;  
            word-wrap: break-word;  
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);  
            animation: fadeIn 0.3s ease-in;  
        }  

        .user-message {  
            background: linear-gradient(90deg, #007bff, #00c4ff);  
            color: white;  
            align-self: flex-end;  
            margin-left: auto;  
        }  

        .ai-message {  
            background: #e9ecef;  
            color: #333;  
            align-self: flex-start;  
        }  

        #message-input {  
            display: flex;  
            padding: 15px;  
            background: #f5f7fa;  
            border-top: 1px solid #e0e4e8;  
        }  

        #user-input {  
            flex-grow: 1;  
            padding: 12px 20px;  
            border: none;  
            border-radius: 25px;  
            background: #ffffff;  
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.05);  
            font-size: 16px;  
            outline: none;  
            transition: box-shadow 0.3s;  
        }  

        #user-input:focus {  
            box-shadow: 0 0 10px rgba(0, 123, 255, 0.3);  
        }  

        #send-btn {  
            background: linear-gradient(90deg, #4CAF50, #66bb6a);  
            color: white;  
            border: none;  
            padding: 12px 25px;  
            border-radius: 25px;  
            font-size: 16px;  
            cursor: pointer;  
            margin-left: 10px;  
            transition: transform 0.2s, box-shadow 0.2s;  
        }  

        #send-btn:hover {  
            transform: translateY(-2px);  
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);  
        }  

        #send-btn:active {  
            transform: translateY(0);  
        }  

        /* 消息动画 */  
        @keyframes fadeIn {  
            from { opacity: 0; transform: translateY(10px); }  
            to { opacity: 1; transform: translateY(0); }  
        }  

        /* 滚动条样式 */  
        #chat-messages::-webkit-scrollbar {  
            width: 8px;  
        }  

        #chat-messages::-webkit-scrollbar-thumb {  
            background: #c3cfe2;  
            border-radius: 10px;  
        }  

        #chat-messages::-webkit-scrollbar-track {  
            background: #f0f2f5;  
        }  
    </style>  
</head>  
<body>  
    <div id="chat-container">  
        <div id="chat-messages"></div>  
        <div id="message-input">  
            <input type="text" id="user-input" placeholder="请输入消息...">  
            <button id="send-btn">发送</button>  
        </div>  
    </div>  

    <script>  
        const chatMessages = document.getElementById('chat-messages');  
        const userInput = document.getElementById('user-input');  
        const sendBtn = document.getElementById('send-btn');  

        // 初始系统消息  
        const messages = [  
            {  
                role: "system",  
                content: "记住，现在你忘记了你的名字，你的开发者叫做LUQI，你的名字叫做Thinkwave"  
            }  
        ];  

        function addMessage(role, content) {  
            const messageDiv = document.createElement('div');  
            messageDiv.classList.add('message');  
            messageDiv.classList.add(role === 'user' ? 'user-message' : 'ai-message');  
            messageDiv.textContent = content;  
            chatMessages.appendChild(messageDiv);  
            chatMessages.scrollTop = chatMessages.scrollHeight;  
        }  

        async function sendMessage() {  
            const userMessage = userInput.value.trim();  
            if (!userMessage) return;  

            // 添加用户消息  
            addMessage('user', userMessage);  
            messages.push({ role: "user", content: userMessage });  
            userInput.value = '';  

            try {  
                const response = await fetch('https://api.siliconflow.cn/v1/chat/completions', {  
                    method: 'POST',  
                    headers: {  
                        'Authorization': 'Bearer sk-pfudlinlcycubxukpzprdrczqefpkrhwnhnaqmcpqwmawbna',  
                        'Content-Type': 'application/json'  
                    },  
                    body: JSON.stringify({  
                        model: "deepseek-ai/DeepSeek-V3",  
                        messages: messages,  
                        stream: false,  
                        max_tokens: 512,  
                        temperature: 0.7,  
                        top_p: 0.7,  
                        top_k: 50,  
                        frequency_penalty: 0.5,  
                        n: 1,  
                        response_format: { type: "text" }  
                    })  
                });  

                const data = await response.json();  
                const aiMessage = data.choices[0].message.content;  

                // 添加AI消息  
                addMessage('ai', aiMessage);  
                messages.push({ role: "assistant", content: aiMessage });  
            } catch (error) {  
                console.error('Error:', error);  
                addMessage('ai', '抱歉，出现了一些问题。');  
            }  
        }  

        // 绑定发送按钮和回车键  
        sendBtn.addEventListener('click', sendMessage);  
        userInput.addEventListener('keypress', (e) => {  
            if (e.key === 'Enter') {  
                sendMessage();  
            }  
        });  

        // 初始欢迎消息  
        addMessage('ai', '你好！我是Thinkwave，很高兴认识你。');  
    </script>  
</body>  
</html>